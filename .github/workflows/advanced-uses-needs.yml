name: Advanced Uses & Needs Verification

env:
  My_Name: "趙涵廷"
  GREETING: "お疲れ様です。"
on:
  schedule:
    - cron: '45 8 * * *'
  workflow_dispatch:
    inputs:
      user_name:
        description: '名前'
        required: true
        default: '趙涵廷'
  push:
    branches: [main]
    paths:
      - '.github/workflows/advanced-uses-needs.yml'
  pull_request:
    branches: [main]
    types: [opened, synchronize]


jobs:
  checkout-demo:
    runs-on: ubuntu-latest
    steps:
      - name: Repository Checkout (uses demonstration)
        uses: actions/checkout@v4
      - name: List Repository Files
        run: ls -la

  windows:
    needs: checkout-demo
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v4
      - name: Windows Environment Info
        shell: powershell
        run: |
          echo "Windows runner started"
          Get-Date

  ubuntu:
    needs: windows
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Ubuntu Environment Info
        run: |
          echo "Ubuntu runner started (after Windows)"
          lsb_release -a

  summary:
    needs: [windows, ubuntu]
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    steps:
      - name: Execution Summary
        run: |
              echo "Verification complete:checkout → windows → ubuntu → summary"
              echo "$(date '+%Y年%m月%d日')"
              echo "${{ env.My_Name }} さん！"
              echo "${{ env.GREETING }}"
